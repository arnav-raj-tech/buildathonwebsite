<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Student Budget Buddy helps students track expenses, manage pocket money, and get smart financial advice.">
<title>Student Budget Buddy</title>

<!-- Google Fonts & Icons -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<!-- Firebase SDK -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyDwmJ-6PWeD6x-5rjiWywsFMDlEFSSCsgc",
  authDomain: "student-budget-tracker-ac367.firebaseapp.com",
  projectId: "student-budget-tracker-ac367",
  storageBucket: "student-budget-tracker-ac367.appspot.com",
  messagingSenderId: "367537585165",
  appId: "1:367537585165:web:cb945c4d12cad3914ee944"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

async function authenticate(email, password) {
  try {
    await signInWithEmailAndPassword(auth, email, password);
    alert("Login successful!");
    document.getElementById('loginModal').style.display = 'none';
  } catch (loginErr) {
    try {
      await createUserWithEmailAndPassword(auth, email, password);
      alert("Account created successfully!");
      document.getElementById('loginModal').style.display = 'none';
    } catch (signErr) {
      alert(signErr.message);
    }
  }
}
window.authenticate = authenticate;

onAuthStateChanged(auth, user => {
  if(user){
    document.getElementById('loginBtn').style.display = 'none';
    document.getElementById('userEmail').innerText = user.email;
  } else {
    document.getElementById('loginBtn').style.display = 'inline-block';
    document.getElementById('userEmail').innerText = '';
  }
});
</script>

<style>
body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg, #d2f5d2, #e6ffe6);
  color: #333;
}

header {
  background: #2e7d32;
  color: #fff;
  text-align: center;
  padding: 30px 10px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
  position: relative;
}

header h1 { font-size: 2em; margin-bottom: 5px; }
header p { font-size: 1.1em; }
#userEmail { position: absolute; top: 10px; right: 20px; font-size: 0.97em; color: #fff; }

nav {
  background: #1b5e20;
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 15px;
  padding: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

nav a, #loginBtn {
  color: white;
  text-decoration: none;
  font-weight: 500;
  padding: 8px 15px;
  border-radius: 6px;
  transition: 0.3s ease;
  cursor: pointer;
}

nav a:hover, #loginBtn:hover { background: rgba(255,255,255,0.15); }

.container {
  text-align: center;
  padding: 40px 20px;
  max-width: 900px;
  margin: 0 auto;
}

.btn {
  background: #00a651;
  color: white;
  border: none;
  border-radius: 8px;
  padding: 12px 25px;
  margin: 10px 5px;
  cursor: pointer;
  font-size: 1em;
  transition: 0.3s ease;
}

.btn:hover { background: #007f3f; }

/* Login Modal */
#loginModal {
  display: none;
  position: fixed;
  z-index: 9999;
  left: 0; top: 0;
  width: 100%; height: 100%;
  background-color: rgba(0,0,0,0.5);
  justify-content: center;
  align-items: center;
}
#loginContent {
  background: #fff;
  padding: 30px;
  border-radius: 12px;
  width: 90%;
  max-width: 400px;
  text-align: center;
}
#loginContent input {
  width: 80%;
  padding: 10px;
  margin: 10px 0;
  border-radius: 6px;
  border: 1px solid #ccc;
}
#loginContent button {
  padding: 10px 20px;
  margin-top: 10px;
  border: none;
  border-radius: 6px;
  background: #43a047;
  color: white;
  cursor: pointer;
  transition: 0.3s ease;
}
#loginContent button:hover { background:#2e7d32; }

/* AI widget */
#aiWidget {
  background: #fff;
  padding: 20px;
  margin: 25px auto;
  border-radius: 12px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  max-width: 900px;
  text-align: left;
}
#aiWidget input, #aiWidget button {
  padding: 10px;
  margin: 5px 0;
  border-radius: 6px;
  border:1px solid #ccc;
}
#aiWidget button {
  background: #00a651;
  color:white;
  border:none;
  cursor:pointer;
}
#aiWidget button:hover { background:#007f3f; }

.video-container{
    position:relative;
    padding-bottom:56.25%;
    height:0;
    overflow:hidden;
    border-radius:12px;
    margin-top:20px;
    box-shadow:0 4px 12px rgba(0,0,0,0.2);
}
.video-container iframe{
    position:absolute;
    top:0;
    left:0;
    width:100%;
    height:100%;
}

footer {
  text-align:center;
  padding:10px;
  background:#f1f1f1;
  color:#555;
  font-size:0.9em;
}

/* AI Chat */
#ai-chat-container {
  max-width: 400px;
  margin: 20px auto;
  padding: 10px;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}
#ai-chat-log {
  height: 200px;
  overflow-y: auto;
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 8px;
  margin-bottom: 10px;
  background: #f9f9f9;
}
#ai-chat-input {
  width: 100%;
  padding: 10px;
  border-radius: 8px;
  border: 1px solid #ccc;
}
#ai-chat-container button {
  margin-top: 10px;
  width: 100%;
  padding: 10px;
  background: #00a651;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}
#ai-chat-container button:hover { background: #007f3f; }

/* Responsive Layout */
@media (max-width: 700px) {
  header h1 { font-size: 1.3em; }
  .container { padding: 23px 3vw; }
  .btn { width: 95%; margin: 7px 0; }
  #ai-chat-container, #aiWidget, .video-container, .container { max-width: 97vw; }
}

@media (max-width:500px) {
  nav { flex-direction: column; gap: 7px; padding: 11px 0;}
  .container { padding:12px 2vw; }
  header, nav, .container, #ai-chat-container { border-radius: 0; }
  #ai-chat-log, #ai-chat-input { font-size: 1em; }
  .btn { font-size: 1em; padding: 13px 0; }
  #loginContent { width: 99vw; }
}

/* Ensure images and video scale on all screens */
img, iframe, canvas {
  max-width: 100%;
  height: auto;
  border-radius: 10px;
}
</style>
</head>

<body>

<header>
  <h1>üéì Student Budget Buddy</h1>
  <p>Track your spending & manage your pocket money smartly!</p>
  <div id="userEmail"></div>
</header>

<nav>
  <a href="index.html">Home</a>
  <a href="tracker.html">Expense Tracker</a>
  <a href="tips.html">Money Tips</a>
  <a href="https://forms.gle/PkAbSHMgfWDZM2jH8">Feedback</a>
  <a href="about.html">About Us</a>
  <div id="loginBtn" onclick="document.getElementById('loginModal').style.display='flex'">Login / Sign Up</div>
</nav>

<div class="container">
  <h2>Welcome!</h2>
  <p>Manage your pocket money, track expenses, and get AI-powered advice to save better.</p>
  <img src="https://static.wixstatic.com/media/bc172e_acb81131c2954d40af6884aeb2a2b130~mv2.jpg" alt="Student budgeting illustration">

  <div>
    <button class="btn" onclick="location.href='tracker.html'">Start Tracking Now</button>
    <button class="btn" onclick="location.href='tips.html'">View Money Tips</button>
  </div>

  
<div id="ai-chat-container" style="max-width:400px;margin:20px auto;padding:10px;background:#fff;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.2);">
  <div id="ai-chat-log" style="height:200px;overflow-y:auto;padding:10px;border:1px solid #ccc;border-radius:8px;margin-bottom:10px;background:#f9f9f9;"></div>
  <input type="text" id="ai-chat-input" placeholder="Ask Expense AI..." style="width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;">
  <button onclick="askExpenseAI()" style="margin-top:10px;width:100%;padding:10px;background:#00a651;color:white;border:none;border-radius:8px;cursor:pointer;">Send</button>
</div>

  <!-- Video -->
  <h3>Watch this for more tips üé•</h3>
  <div class="video-container">
    <iframe src="https://www.youtube.com/embed/28FMPE2tH80" title="Money management tips for students" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  </div>
</div>

<!-- Login Modal -->
<div id="loginModal">
  <div id="loginContent">
    <h2>Login or Sign Up</h2>
    <input type="email" id="email" placeholder="Email" required>
    <input type="password" id="password" placeholder="Password" required>
    <br>
    <button onclick="authenticate(document.getElementById('email').value, document.getElementById('password').value)">Continue</button>
  </div>
</div>

<script>
const aiResponses = {
  "food": [
    "üçî Try meal prepping ‚Äî it can save both time and money!",
    "ü•ó Consider switching one meal a day to home-cooked food.",
    "‚òï Avoid frequent takeaways or coffees; they add up quickly."
  ],
  "transport": [
    "üöå Use student transport passes or metro cards for discounts.",
    "üö¥ Walking or cycling saves both money and the planet.",
    "üöó Try carpooling with friends to cut your transport costs."
  ],
  "books": [
    "üìö Check your library before buying new books.",
    "üí° Try second-hand or digital versions to save big.",
    "üéì Rent textbooks if you only need them for a semester."
  ],
  "leisure": [
    "üé¨ Limit movie nights or streaming subscriptions.",
    "üéÆ Try free or low-cost entertainment alternatives.",
    "üß© Plan leisure spending so it doesn‚Äôt eat into essentials."
  ],
  "others": [
    "üí≠ Review these miscellaneous expenses ‚Äî are they necessary?",
    "üí∏ Track these purchases carefully to spot patterns.",
    "üìä Even small untracked items can add up fast ‚Äî note everything."
  ]
};

// Append message to chat log
function appendMessage(sender, message) {
  const log = document.getElementById("ai-chat-log");
  const div = document.createElement("div");
  div.style.marginBottom = "8px";
  div.innerHTML = `<strong>${sender}:</strong> ${message}`;
  log.appendChild(div);
  log.scrollTop = log.scrollHeight;
}

// Chatbot logic
function askExpenseAI() {
  const input = document.getElementById("ai-chat-input");
  const query = input.value.trim().toLowerCase();
  if(!query) return;
  
  appendMessage("You", input.value);
  input.value = "";

  let response = "ü§ñ Sorry, I didn't understand. Ask about food, transport, books, leisure, others, or budget.";

  // Budget breakdown using 50/30/20 if user asks
  if(query.includes("budget") || query.includes("50/30/20") || query.includes("save")) {
    const totalBudget = parseFloat(prompt("Enter your monthly budget amount ‚Çπ:"));
    if(!isNaN(totalBudget) && totalBudget>0){
      const needs = (totalBudget*0.5).toFixed(2);
      const wants = (totalBudget*0.3).toFixed(2);
      const savings = (totalBudget*0.2).toFixed(2);
      response = `ü§ñ Using the 50/30/20 rule for ‚Çπ${totalBudget}:  
      üè† Needs (50%): ‚Çπ${needs}  
      üéâ Wants (30%): ‚Çπ${wants}  
      üí∞ Savings (20%): ‚Çπ${savings}`;
    } else {
      response = "ü§ñ Invalid budget amount!";
    }
  }
  else if(query.includes("food")) response = "ü§ñ " + aiResponses["food"][Math.floor(Math.random() * aiResponses["food"].length)];
  else if(query.includes("transport")) response = "ü§ñ " + aiResponses["transport"][Math.floor(Math.random() * aiResponses["transport"].length)];
  else if(query.includes("book")) response = "ü§ñ " + aiResponses["books"][Math.floor(Math.random() * aiResponses["books"].length)];
  else if(query.includes("leisure") || query.includes("fun")) response = "ü§ñ " + aiResponses["leisure"][Math.floor(Math.random() * aiResponses["leisure"].length)];
  else if(query.includes("other")) response = "ü§ñ " + aiResponses["others"][Math.floor(Math.random() * aiResponses["others"].length)];

  appendMessage("Expense AI", response);
}
</script>



<footer>
2025 Student Budget Buddy | Made for students üí∏ Contact us at studentbudgetbuddyhelp@gmail.com
</footer>



</body>
</html>






